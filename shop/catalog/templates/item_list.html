{% extends  'base.html' %}

{% block content %}
<style>
    .item{
    background: plum;
    width: 10%;
    float: left;
    padding: 5px;
    margin: 2%;
    }

    .item input.amount {
        width: 5em;
    }
</style>

<form action="{% url 'item_list' %}" method="GET">
    {{ item_sort_form.as_p }}
    {{ item_filter_form.as_p }}
    <input type="submit" value="Сортировать" />
</form>

{% for item in items %}
<div class="item">
<a href="{% url 'item_detail' pk=item.pk %}">
    <p>Name: {{ item.name }}</p>
    <p>Price: {{ item.price }}</p>
    <p>Presence:
        {% if item.count > 0 %}
        In Stock
        {% else %}
        Out of stock
        {% endif %}</p>
</a>
    <form action="{% url 'add_to_cart' %}" method="GET">
        <input name="item_id" type="hidden" value="{{ item.pk }}" />
        <input name="amount" type="number"
               value="1" min="1"
               class="amount" />
        <input type="submit" value="В корзину" />
    </form>
</div>

{% endfor %}


{% endblock %}